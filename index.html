<!DOCTYPE html>
<html lang="en">
<head>
<meta name="theme-color" content="black">
<meta name="msapplication-navbutton-color" content="black">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" sizes="180x180" href="/resources/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/resources/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/resources/favicon-16x16.png">
<link rel="manifest" href="/resources/site.webmanifest">
<style>

@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@700&display=swap'); 

*{
font-family: 'Quicksand', sans-serif;
}

body{
background-image: url("/resources/moviebg.jpg");
background-size:30%;
} 


#container{
position: relative;
top:50px;
display: flex;
flex-direction: column;
align-items: center;
justify-content: flex-start;
} 

p,span{
cursor: pointer;
display:flex;
height: 2em;
width: 25em;
justify-content: center;
align-items: center;
margin-bottom:20px;
} 

p{
width: 10em;
background:darkgray;
border:1px solid gray;
} 

img{
max-height:2em;
max-width:10em;
} 

#sr{
position: absolute;
right:5px;
top:5px;
} 

#frog{
position: absolute;
left:5px;
top:5px;
min-height:3em;
min-width:3em;
}


#duration{
padding:5px;
box-sizing:border-box;
background:#7ba79b;
width:auto;
border:1px solid yellow;
}

#night{
min-height:3em;
min-width:3em;
}
</style>
</head>
<body>
<div id="container">
<span id="x1"><audio></audio></span>
<span id="x2"><audio></audio></span>
<span id="x3"><audio></audio></span>
<span id="x4"><audio></audio></span>
<span id="x5"><audio></audio></span>
<span id="x6"><audio></audio></span>
<span id="x7"><audio></audio></span>
<span id="x8"><audio></audio></span>
<span id="x9"><audio></audio></span>
<span id="x10"><audio></audio></span>
<span id="x11"><audio></audio></span>
<span id="x12"><audio></audio></span>
<span id="x13"><audio></audio></span>
<span id="x14"><audio></audio></span>
<br>
<p>STOP RADIO</p>
<div id="duration"></div>
</div>

<a id="sr" href="bollywood.html"> <img src="/resources/in.png"/> </a>
<img id="frog" src="/resources/frog.png"/>

<script>

let
obj= {
"http://168.195.218.193:8000/radio1-1":"Rapar",
"http://tbn.kloud.xyz:8050/radio.mp3":"Trishul",
"http://108.59.9.147:8136/;":"Rasonic",
"http://sgm.kloud.xyz:8030/radio.mp3":"Sangeetmala",
"http://nickerie.webhop.net:8000/;stream.nsv":"Ishara",
"http://162.244.80.245:8016/;":"Ramasha",
"http://79.143.187.96:8053/live":"Suvidha",
"http://shruti.kloud.xyz:8000/radio.mp3":"Shruti",
"https://amorfm_192.streampartner.nl/stream":"Amor",
"http://stream.akaashfm.com:8000/live?1614478133151":"Akaash",
"http://94.23.148.11:8058/;":"Vahon",
"http://stream2.ujala.nl/stream/2/listen.mp3":"Ujalah",
"http://stream.sunrisefm.nl:9600/stream":"Sunrise",
"http://stream2.iqhosted.nl:8000/stream/1/":"Sangam"
};

let
$= document.querySelector.bind(document),
$$= document.querySelectorAll.bind(document); 

let not= "NO RADIO PLAYING",
    dur= $("#duration");

dur.innerHTML= not;
document.title= "KD Radio - Suriname"; 

//DISPLAY DURATION
function duration (a,b){

a.ontimeupdate= function() {
let time= new Date(a.currentTime * 1000).toISOString().substr(11, 8).split(":"),
       h= time[0], m= time[1], s= time[2];
    
if (h<=9 && h>0) h= h.replace("0","");
if (m<=9 && m>0) m= m.replace("0","");
if (s<=9 && s>0) s= s.replace("0","");
if (s==00) s= s.replace("0","");


if(!a.paused){
let hey="Listening to " +b+" for";

if(h<0 && m<0 && s<=0) dur.innerHTML= "Loading " + b +"....";

if (h==0 && m<1) dur.innerHTML=`${hey} ${s} seconds`;
if (h==0 && m==1) dur.innerHTML=`${hey} 1 minute and ${s} seconds`;
if (h==0 && m>1) dur.innerHTML=`${hey} ${m} minutes and ${s} seconds`;

if (h==1 && m<1) dur.innerHTML=`${hey} 1 hour and ${s} seconds`;
if (h==1 && m==1) dur.innerHTML=`${hey} 1 hour, 1 minute and ${s} seconds`;
if (h==1 && m>1) dur.innerHTML=`${hey} 1 hour, ${m} minutes and ${s} seconds`;

if (h>1 && m<1) dur.innerHTML=`${hey} ${h} hours and ${s} seconds`;
if (h>1 && m==1) dur.innerHTML=`${hey} ${h} hours, 1 minute and ${s} seconds`;
if (h>1 && m>1) dur.innerHTML= `${hey} ${h} hours, ${m} minutes and ${s} seconds`;
}
else{
dur.innerHTML= not;
}

};}

//NIGHTMODE
let night= true;

let
url= Object.keys(obj),
tit= Object.values(obj),
name= $$("span"),
player= $$("span>audio");

//Extract & Assign Radio Names and URLs
url.forEach((i,x)=>{
name[x].innerHTML= tit[x];
player[x].src= i;
})

//Change Radio Colors
function colors(a,b,c){
if(!night){
a.style.color= b;
a.style.background= c;
}
else{
a.style.color= "white";
a.style.background= "black";
}
}


//ASSIGN CSS IN START
name.forEach((i,x)=>{
i.style.border= "1px solid gray";
if(!night){
colors(i,"black","white");
}
else{
colors(i,"white","black");
}
})


//Stop All Radios
function stopAll(){
player.forEach((i,x)=>{
i.src= "";
name[x].style.border= "1px solid gray";
colors(name[x],"black","white");
})
document.title= "KD Radio - Suriname";
}

//-------------------------------------
name.forEach((i,x)=>{

//ON TAP OR CLICK
i.onclick=()=>{
if(player[x].paused){
stopAll();
colors(i,"white","green");
player[x].src= url[x];
player[x].play();
}
else{
return false;
}
};

//ON PAUSE
player[x].onpause=()=>{
if(night) name[x].style.border= "1px solid red";
colors(i,"white","red");
}

//ON PLAY
player[x].onplay=()=>{
dur.innerHTML= `Loading ${i.innerHTML}...`;
duration
(player[x],i.innerHTML);
if(night) name[x].style.border= "1px solid #00fd03";
colors(i,"white","green");
document.title= "KD Radio - "+ i.innerHTML;
}


})
//---------------------------------------



//DISABLE SELECTION
$("body").onselectstart=()=>{ return false; };


//STOPPING RADIO
let stop= $("p"); 
stop.onclick= stopAll; 


/*EXPAND AND COLLAPSE RADIOS
let xo= "two";
let loser= $$("#x14");
loser.forEach(i=>{i.style.display="none";})

$("#frog").onclick= function(){
if(xo==="one"){
loser.forEach(i=> {i.style.display= "none";})
xo= "notone";
}
else{
loser.forEach(i=> {i.style.display= "flex";})
xo= "one";
}

};*/


</script>
</body>
</html>
